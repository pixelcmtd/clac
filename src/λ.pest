// https://en.wikipedia.org/wiki/Template:Whitespace_(Unicode)
WHITESPACE = _{ "\t" | " " | "\u{00A0}" | "\u{1680}" | '\u{2000}'..'\u{200A}' | "\u{202F}" | "\u{205F}" | "\u{3000}" | "," }
// TODO: more creative comments (an idea would be emoji like ğŸ’­ but that wouldnt be mathy)
// NOTE: maybe we don't even need to do comments in here because if the evaluation system
//       is well enough designed we can just write ANYTHING
COMMENT = { "#" ~ (!NEWLINE ~ ANY)* }

mvariable = @{ !(WHITESPACE | "#" | NEWLINE | "(" | ")" | "$" | "â†" | "â‡" | "Î»" | "." | ";" | "âˆˆ" | "Î´" | "â†’" | "âˆª" ) ~ ANY }
variable = @{ mvariable+ }
item = { variable | "(" ~ expr ~ ")" | "$" ~ expr }
mitem = { mvariable | "(" ~ mexpr ~ ")" | "$" ~ mexpr }

vardef = { variable ~ "â†" ~ expr | variable ~ "â‡" ~ mexpr }

expr = { func | item+ }
mexpr = { mfunc | mitem+ }

params = { variable+ }
mparams = { mvariable+ }
body = { expr }
mbody = { mexpr }
func = { "Î»" ~ params ~ "." ~ body }
mfunc = { "Î»" ~ mparams ~ "." ~ mbody } //~ ("âˆˆ" ~ ty)?

//typedef = { variable ~ "âˆˆ" ~ ty }
//pty = { "(" ~ ty ~ ")" | "$" ~ ty }
//functy = { (pty | variable | unionty) ~ "â†’" ~ ty }
//unionty = { (pty | variable) ~ "âˆª"? ~ (pty | variable | unionty) }
//ty = _{ variable | pty | functy }

// TODO: typedef
statement = _{ vardef | expr }
statements = _{ SOI ~ (statement ~ (NEWLINE | ";")+)* ~ EOI | SOI ~ statement ~ EOI }

// TODO:
// we can support a Î¼hs syntax in here too we just need an assignment that is I x â‰” x
// also we can support a maths like syntax: I: ğ“ â†¦ ğ“
